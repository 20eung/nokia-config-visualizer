# ===================================
# Nokia Config Visualizer - Environment Variables
# ===================================

# ─────────────────────────────────────────────────
# Backend API (Express Server)
# ─────────────────────────────────────────────────
PORT=3000
AWS_REGION=ap-northeast-2
AWS_DEFAULT_REGION=ap-northeast-2
AWS_PROFILE=default
BEDROCK_MODEL_ID=apac.anthropic.claude-sonnet-4-20250514-v1:0
CORS_ORIGIN=*

# ─────────────────────────────────────────────────
# Frontend (React + Vite)
# ─────────────────────────────────────────────────
# Note: In production, /api is proxied by Nginx
# For development with separate backend server:
# VITE_API_URL=http://localhost:3000/api

# ─────────────────────────────────────────────────
# Docker Compose
# ─────────────────────────────────────────────────
FRONTEND_PORT=3301
BACKEND_PORT=3000

# ===================================
# AWS Credentials Setup Guide
# ===================================
#
# Option 1: Use ~/.aws/credentials (Recommended)
# ------------------------------------------------
# Create or edit: ~/.aws/credentials
#
# [default]
# aws_access_key_id = YOUR_ACCESS_KEY_ID
# aws_secret_access_key = YOUR_SECRET_ACCESS_KEY
#
# [profile-name]
# aws_access_key_id = ANOTHER_ACCESS_KEY_ID
# aws_secret_access_key = ANOTHER_SECRET_ACCESS_KEY
#
# Then set AWS_PROFILE=profile-name to use specific profile
#
# ------------------------------------------------
#
# Option 2: Use ~/.aws/config for region settings
# ------------------------------------------------
# Create or edit: ~/.aws/config
#
# [default]
# region = ap-northeast-2
# output = json
#
# [profile profile-name]
# region = us-east-1
# output = json
#
# ------------------------------------------------
#
# Option 3: Environment Variables (Not recommended for production)
# ------------------------------------------------
# AWS_ACCESS_KEY_ID=YOUR_ACCESS_KEY_ID
# AWS_SECRET_ACCESS_KEY=YOUR_SECRET_ACCESS_KEY
# AWS_SESSION_TOKEN=YOUR_SESSION_TOKEN  # Only for temporary credentials
#
# ⚠️ WARNING: Never commit credentials to git!
#
# ------------------------------------------------
#
# Option 4: IAM Role (EC2/ECS/EKS - Production)
# ------------------------------------------------
# No manual configuration needed - automatic
# AWS SDK will use instance/task IAM role
#
# ===================================
# Required IAM Permissions
# ===================================
#
# Minimum required IAM policy for AWS Bedrock:
#
# {
#   "Version": "2012-10-17",
#   "Statement": [
#     {
#       "Effect": "Allow",
#       "Action": [
#         "bedrock:InvokeModel"
#       ],
#       "Resource": "arn:aws:bedrock:ap-northeast-2::foundation-model/apac.anthropic.claude-sonnet-4-*"
#     }
#   ]
# }
#
# ===================================
# Usage Instructions
# ===================================
#
# 1. Copy this file to .env (if needed):
#    cp .env.example .env
#
# 2. Edit .env and customize values (optional)
#
# 3. Configure AWS credentials:
#    - Option 1 (Recommended): ~/.aws/credentials
#    - Option 2 (Alternative): Set AWS_* environment variables in .env
#
# 4. Run with Docker Compose:
#    docker-compose up -d
#
# 5. Access the application:
#    http://localhost:3301
#
# ===================================
# Troubleshooting
# ===================================
#
# Error: "AWS 자격 증명을 확인해주세요"
# → Check ~/.aws/credentials file exists and has valid credentials
# → Check AWS_PROFILE matches a profile in ~/.aws/credentials
#
# Error: "AWS Bedrock 접근 권한이 없습니다"
# → Check IAM user/role has bedrock:InvokeModel permission
# → Check model ID is correct for your region
#
# Error: "Bedrock 모델에 접근할 수 없습니다"
# → Check AWS_REGION is correct (must match model region)
# → Check model ID exists in your region
# → Try: apac.anthropic.claude-sonnet-4-20250514-v1:0 for ap-northeast-2
#
# Error: "요청이 너무 많습니다"
# → Wait 1 minute (rate limit: 30 requests/minute)
# → Consider increasing rate limit in server/src/index.ts
